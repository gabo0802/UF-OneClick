<mat-sidenav-container>
    <mat-sidenav opened="true" mode="side" disableClose="true">
        <mat-nav-list>
            <a mat-list-item [hidden] ="isAdmin" [disabled]="isAdmin"[class.active]="displaySubscriptions" class="e" (click)="showSubscriptions()"><span class="nav-item">Subscriptions</span></a>
            <a mat-list-item [hidden] ="isAdmin" [disabled]="isAdmin" (click)="showReport()"><span class="nav-item">Report</span></a>
            <a mat-list-item [hidden] ="isAdmin" [disabled]="isAdmin" (click)="showGraph()"><span class="nav-item">Graph</span></a>
            <a mat-list-item [hidden] ="!isAdmin" [disabled]="!isAdmin" (click)="showAdmin()"><span class="nav-item">Admin Functions</span></a>
        </mat-nav-list>

    </mat-sidenav>
    <mat-sidenav-content id="content">
        <div class="subscription-manager" align="center" *ngIf="displaySubscriptions">
            <mat-card id="table">
                <mat-card-header>
                <mat-card-title id="title">
                    <div>
                        <h3>{{ todayDate | date: 'longDate'}}</h3>
                    </div>
                    <div>
                        <h3>{{ username }}'s Subscription List</h3>
                    </div>
                    
                </mat-card-title>
                </mat-card-header>
                <mat-card-content>                      
                       <app-subscription-list [subscriptionList]="subscriptionList" 
                       (updateSubscriptions)="updateActiveSubscriptions($event)"
                       (isActive)="updateActiveSubscriptions($event)"
                       (isInactive)="updateInactiveSubscriptions($event)"
                       [isLoading]="isLoading">
                        </app-subscription-list>
                </mat-card-content>
            </mat-card>                  
        </div>
        <div class="subscription-report" *ngIf="displayReport">
            <app-report [username]="username"></app-report>
            <!--Done so the background moves naturally with the accordion-->
            <div class="report-spacer">
                <br><br><br><br><br><br><br><Br>
            </div>  
        </div>
        <div class="graph-report" *ngIf="displayGraph">
            <app-graph></app-graph> 
        </div>

        <div class="admin-features" align="center" *ngIf="displayAdmin">
            <mat-card id="table">
            <mat-card-header>
                <mat-card-title id="title">
                    <div>
                        <h3>{{ todayDate | date: 'longDate'}}</h3>
                    </div>
                    <div>
                        <h3>{{ username }}'s Admin Functions</h3>
                    </div>
                    
                </mat-card-title>
            </mat-card-header>
            <mat-card-content>                      
                <button class = "admin-button" mat-raised-button color="primary" (click)="adminReset()">Reset UF-OneClick</button>
         </mat-card-content>
        </mat-card>                  
        </div>

    </mat-sidenav-content>
</mat-sidenav-container>